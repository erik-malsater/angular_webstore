<main class="checkoutContainer">

  <h2>Checkout</h2>
  <p *ngIf="totalPrice === 0" class="emptyCartText">Your cart is empty</p>
  <div class="singleProductBox" *ngFor="let product of cartList">
    
    <div class="flexSibling"></div>
    <div class="productImageFrame">
        <img src="{{ product.imageUrl }}" alt="">
    </div>
    <div class="productInfoBox">
        <p>{{ product.name }}</p>
        <p>Amount: {{ product.amount }}</p>
        <p>{{ product.price * product.amount }} kr</p>
        <p class="removeProduct" (click) = "removeProduct(product.id)">Remove</p>
    </div>
  </div>
  <div class="checkoutMenu">
    <form [formGroup]="orderForm" (ngSubmit)="postOrder()">
      <input type="text" placeholder="Name" formControlName="name" id="nameTextField" required>
      <select formControlName="paymentMethod" required>
        <option disabled [selected]="'Payment method'" value="">Payment method</option>
        <option *ngFor="let method of paymentMethods" [value]="method">{{ method }}</option>
      </select>
      <p>Total: {{ totalPrice }} kr</p>
      <button type="submit" (click)="postOrder()" [disabled]="!orderForm.valid">Send order</button>
    </form>
  </div>
</main>


